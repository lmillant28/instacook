<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Listas Favoritos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- Tus estilos -->
    <link rel="stylesheet" href="/css/cabecera.css" />
    <link rel="stylesheet" href="/css/footer.css" />
    <script type="text/javascript" src="/jquery/desplegable.js"></script>
    <style>
        #total {
           width:90%;
           margin: auto;
           padding: 0 20px;
           margin-bottom:50px;
        }
        .migas ol li {
           list-style: none;
           color:black !important;
        }
        svg{
           width:80px;
        }
        .migas {
           margin-top: 30px;
           margin-left: 20px;
        }
        main{
           margin:auto;
           width: 90%;
           min-height: 73vh;
        }
        .titulo {
          font-size: 1.4rem;
          margin-bottom: 30px;
          font-weight: 500;
        }

        .folder-container {
          display: flex;
          gap: 60px;
          align-items: flex-start;
          margin-left: 8px;
        }

        .bi{
            color:#bfa75;
        }

        .bi:hover{
            color:#e17d5a;
        }

        .folder {
          display: flex;
          flex-direction: column;
          align-items: center;
          min-width: 110px;
        }

        .folder svg {
          margin-bottom: 6px;
          width: 80px;
        }

        .folder-label {
          margin-top: 6px;
          font-size: 1.18rem;
          text-align: center;
          font-family: 'Montserrat', Arial, sans-serif;
        }

        .new-folder .icon-bg {
          position: relative;
          width: 64px;
          height: 48px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .new-folder .plus {
          position: absolute;
          left: 50%;
          top: 54%;
          transform: translate(-50%, -50%);
          font-size: 2.4rem;
          color: #fff;
          font-weight: bold;
          pointer-events: none;
        }

        .new-folder .folder-label {
          display: none; /* No label debajo de la nueva lista */
        }

        @media (max-width: 700px) {
          .folder-container {
            flex-wrap: wrap;
            gap: 30px;
          }
          .folder {
            min-width: 90px;
          }
        }

    </style>
</head>

<body>

<!-- Cabecera -->
<header th:replace="Cabecera :: cabecera"></header>

<main>
    <div class="migas" aria-label="Breadcrumb" role="navigation">
        <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="/">PÃ¡gina Principal</a>
                </li>
                <li class="breadcrumb-item">
                    <a href="/InicioSesion" th:text="${usuario.nombreUsu}"></a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">Listas Favoritos</li>
            </ol>
        </nav>
    </div>
    <div id="total" aria-labelledby="titulo-favoritos">
        <h2 class="titulo" id="titulo-favoritos">Listas Favoritos</h2>
        <div class="folder-container">
            <div class="folder" aria-label="Crear nueva lista de favoritos" tabindex="0">
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-folder-plus icono" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
                    <path d="m.5 3 .04.87a2 2 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2m5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19q-.362.002-.683.12L1.5 2.98a1 1 0 0 1 1-.98z"/>
                    <path d="M13.5 9a.5.5 0 0 1 .5.5V11h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V12h-1.5a.5.5 0 0 1 0-1H13V9.5a.5.5 0 0 1 .5-.5"/>
                </svg>
                <div class="folder-label">
                    <span id="nuevaListaSpan" onclick="activarInputNuevaLista()" tabindex="0" aria-label="Crear nueva lista de favoritos">Nueva</span>
                    <form id="nuevaListaForm" class="d-none" onsubmit="crearNueva(event)" aria-label="Formulario para crear nueva lista de favoritos">
                        <input type="text" id="nombreNuevaLista" placeholder="Nombre lista..." required autofocus style="width:90px;" aria-label="Nombre de la nueva lista">
                    </form>
                </div>
            </div>
            <div class="folder" th:each="lista : ${listas}" tabindex="0"
                 th:aria-label="'Lista de favoritos: ' + ${lista.carpeta.nombre}">
                <a th:href="@{/listas/listarLista/{carp}(carp=${lista.carpeta.idCarpeta})}" th:aria-label="'Ver lista de favoritos ' + ${lista.carpeta.nombre}">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-folder icono" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
                        <path d="M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a2 2 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139q.323-.119.684-.12h5.396z"/>
                    </svg>
                    <div class="folder-label">
                        <a th:text="${lista.carpeta.nombre}" th:aria-label="'Nombre de la lista: ' + ${lista.carpeta.nombre}"></a>
                    </div>
                </a>
            </div>
        </div>
    </div>
</main>


<!-- Footer -->
<footer th:replace="Footer :: footer"></footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.3.0/flickity.pkgd.min.js"></script>

</body>
</html>